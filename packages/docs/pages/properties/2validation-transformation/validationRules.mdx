import ChipsterExample from "../../../components/ChipsterExample"

# Validation Rules

The `validationRules` prop allows you to define custom validation rules for the input before it's added as a chip.

## Type
typescript
`Array<{ test: (value: string) => boolean, message: string }>`

## Usage
<ChipsterExample />
```tsx filename="ChipsterExample.tsx" {4-8,13} copy
import { Chipster } from '@micoblanc/chipster';

function ChipsterExample() {

  const validationRules = [
    { test: (value) => value.length >= 2, message: 'Must be at least 2 characters' },
    { test: (value) => value.length <= 20, message: 'Must not exceed 30 characters' },
    { test: (value) => value.includes('@'), message: 'Must be a valid email' },
  ];

  return (
    <Chipster
      validationRules={validationRules}
      // other props...
    />
  );
}
```


## Notes

- Each validation rule is an object with a `test` function and a `message` string.
- The `test` function should return `true` if the input is valid, and `false` otherwise.
- If any validation rule fails, the `message` for that rule will be displayed as an error.
- Validation rules are applied in the order they are defined in the array.
- The error message from the first failing rule will be displayed.

## Advanced Usage

### Regular Expressions
You can use regular expressions for more complex validations:

```tsx
const validationRules = [
  { 
    test: (value) => /^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(value), 
    message: 'Must be a valid email address' 
  },
  { 
    test: (value) => /^#[0-9A-Fa-f]{6}$/.test(value), 
    message: 'Must be a valid hex color code' 
  },
];
```

### Custom Logic
You can include custom logic in your validation rules:

```tsx
const validationRules = [
  { 
    test: (value) => !forbiddenWords.includes(value.toLowerCase()), 
    message: 'This word is not allowed' 
  },
  { 
    test: (value) => checkDatabaseForExistingTag(value), 
    message: 'This tag already exists in the database' 
  },
];
```

### Dynamic Error Messages
You can generate dynamic error messages based on the input:

```tsx
const validationRules = [
  { 
    test: (value) => value.length >= 5, 
    message: (value) => `Must be at least 5 characters (currently ${value.length})` 
  },
];
```

## Error Display

Chipster automatically displays error messages when validation fails. The error message is shown below the input field and can be styled using the `errorClassName` prop:

```tsx
<Chipster
  validationRules={validationRules}
  errorClassName="text-red-500 text-sm mt-1"
  // other props...
/>
```

You can control whether error messages are displayed using the `showErrorMessage` prop:

```tsx
<Chipster
  validationRules={validationRules}
  showErrorMessage={true}
  // other props...
/>
```

When `showErrorMessage` is set to `false`, validation still occurs, but error messages are not displayed. This can be useful if you want to handle error display yourself or if you only want to prevent invalid inputs without showing messages.